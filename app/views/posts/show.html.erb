<h1>Post Show</h1>
<%= link_to (image_tag(@post.image.url(:thumb)) if @post.image.exists?), user_path(@post.user) %>
<p>@<%= @post.user.username %></p>
<p>Likes: <%= @post.likes %></p>
<p>Description: <%= @post.description %></p>
<p>Posted: <%= @post.created_at %></p>

<%= button_to 'Like', like_post_path(@post), method: :patch %>

<h3>Comments:</h3>
<% if @post.comments.blank? %>
  <p>Thers is no comment yet.</p>
<% else %>
  <ul>
    <% @post.comments.each do |comment| %>
      <li>
        <p>@<%= comment.user.username %></p>
        <p><%= comment.content %></p>
      </li>
    <% end %>
  </ul>
<% end %>

<h3>New Comment:</h3>
<%= form_for [@post, Comment.new] do |f| %>
  <%= f.label :user_id %>
  <%= f.collection_select :user_id, User.all, :id, :username %>

  <%= f.label :content %>
  <%= f.text_area :content %>

  <%= f.submit 'Comment' %>
<% end %>

<p><%= link_to 'Edit', edit_post_path(@post) %></p>
<p><%= link_to 'Delete', post_path(@post), method: :delete %></p>
<p><%= link_to 'Go back to User page', user_path(@post.user) %></p>
